<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>0003_alter_glossarynode_options_and_more.py</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>0003_alter_glossarynode_options_and_more.py</h1>
    <pre><code># Generated by Django 5.2.5 on 2025-08-13 10:52

import django.utils.timezone
import django.db.models.deletion
from django.conf import settings
from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('glossary', '0002_alter_glossarynode_options_and_more'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.AlterModelOptions(
            name='glossarynode',
            options={'ordering': ['type', 'glossary_id']},
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='definition_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='definition_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='definition_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='definition_it',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='embedding_dim',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='embedding_model',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='embedding_ref',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='explication_technique_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='explication_technique_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='explication_technique_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='explication_technique_it',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='label_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='label_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='label_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='label_it',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='procede_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='procede_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='procede_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='procede_it',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_description_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_description_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_description_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_description_it',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_keywords_de',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_keywords_en',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_keywords_fr',
        ),
        migrations.RemoveField(
            model_name='glossarynode',
            name='seo_keywords_it',
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='alerts',
            field=models.JSONField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='created_at',
            field=models.DateTimeField(auto_now_add=True, default=django.utils.timezone.now),
            preserve_default=False,
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='created_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='definition',
            field=models.JSONField(blank=True, default=dict),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='embedding',
            field=models.JSONField(blank=True, null=True),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='explication_technique',
            field=models.JSONField(blank=True, default=dict),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='is_active',
            field=models.BooleanField(default=True),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='labels',
            field=models.JSONField(blank=True, default=dict),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='procede',
            field=models.JSONField(blank=True, default=dict),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='reviewed_by',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='seo',
            field=models.JSONField(blank=True, default=dict),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='updated_at',
            field=models.DateTimeField(auto_now=True),
        ),
        migrations.AddField(
            model_name='glossarynode',
            name='version',
            field=models.PositiveIntegerField(default=1),
        ),
        migrations.AlterField(
            model_name='glossarynode',
            name='glossary_id',
            field=models.CharField(db_index=True, max_length=64, unique=True),
        ),
        migrations.AlterField(
            model_name='glossarynode',
            name='node_id',
            field=models.SlugField(max_length=128),
        ),
        migrations.AlterField(
            model_name='glossarynode',
            name='parent',
            field=models.ForeignKey(blank=True, db_column='parent_glossary_id', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='children', to='glossary.glossarynode', to_field='glossary_id'),
        ),
        migrations.AlterField(
            model_name='glossarynode',
            name='path',
            field=models.CharField(db_index=True, max_length=512),
        ),
        migrations.AlterField(
            model_name='glossarynode',
            name='type',
            field=models.CharField(choices=[('metier', 'Métier'), ('operation', 'Opération'), ('variante', 'Variante')], max_length=16),
        ),
        migrations.AddIndex(
            model_name='glossarynode',
            index=models.Index(fields=['type'], name='glossary_gl_type_2dc79d_idx'),
        ),
        migrations.AddIndex(
            model_name='glossarynode',
            index=models.Index(fields=['path'], name='glossary_gl_path_31df79_idx'),
        ),
        migrations.AddIndex(
            model_name='glossarynode',
            index=models.Index(fields=['node_id'], name='glossary_gl_node_id_5f6b63_idx'),
        ),
    ]
</code></pre>
</body>
</html>