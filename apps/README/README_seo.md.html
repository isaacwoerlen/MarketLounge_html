<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>README_seo.md</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>README_seo.md</h1>
    <pre><code>Voici le README complet pour l'app `seo`.

---

# ğŸ“˜ README â€” App `seo`

> Ce fichier respecte les conventions dÃ©crites dans [`README Brief Technique.md`](../README Brief Technique.md), situÃ© Ã  la racine du dossier `apps/`.  
> Il dÃ©crit lâ€™objectif, le type, les composants, lâ€™intÃ©gration, et les responsabilitÃ©s internes de lâ€™app.

---

## ğŸ§© Type dâ€™app

| Type         | Description                                                                 |
|--------------|------------------------------------------------------------------------------|
| Transversale | Fournit un service SEO/OG rÃ©utilisable par toutes les apps mÃ©tier           |

> Cette app est de type : **`transversale`**  
> Elle est utilisÃ©e par toutes les apps mÃ©tier (ex: `glossary`, `company`, `market`, `dictionary`) pour automatiser et centraliser la gestion du SEO/OG.

---

## ğŸ¯ Objectif

Lâ€™app `seo` est conÃ§ue pour :
- Centraliser la gestion des mÃ©tadonnÃ©es SEO et Open Graph
- Automatiser leur gÃ©nÃ©ration multilingue
- Offrir une interface dâ€™Ã©dition via lâ€™admin Django
- Ã‰viter de coder manuellement le SEO dans chaque app mÃ©tier

---

## ğŸ§± ModÃ¨les principaux

### `SeoBlock`

- ReprÃ©sente un bloc SEO/OG pour une entitÃ© donnÃ©e (ex: une fiche `Company`, un terme `Glossary`)
- Contient les champs standards : `title`, `description`, `image`, `keywords`, etc.
- Est liÃ© Ã  un `TranslatableKey` pour chaque champ

```python
class SeoBlock(models.Model):
    scope = models.CharField(...)       # ex: "company", "glossary"
    object_id = models.UUIDField(...)   # identifiant de lâ€™objet mÃ©tier
    title_key = models.ForeignKey(...)  # vers TranslatableKey
    description_key = models.ForeignKey(...)
    image_url = models.URLField(...)
    keywords = models.JSONField(...)
```

### `SeoTemplate`

- Permet de dÃ©finir des modÃ¨les de SEO dynamiques
- Utilise des placeholders pour gÃ©nÃ©rer automatiquement les titres/descriptions

```python
class SeoTemplate(models.Model):
    scope = models.CharField(...)       # ex: "market"
    title_template = models.TextField(...)     # ex: "DÃ©couvrez {{ name }} sur {{ region }}"
    description_template = models.TextField(...)
    is_active = models.BooleanField(...)
```

---

## ğŸ”Œ IntÃ©grations externes

- **App `language`** : utilisÃ©e pour traduire les champs SEO/OG via Mistral
- **Admin Django** : permet de visualiser, Ã©diter et valider les blocs SEO
- **Apps mÃ©tier** : consomment les blocs SEO via des mixins ou des serializers

---

## â± TÃ¢ches Celery

- GÃ©nÃ©ration automatique des blocs SEO pour les objets mÃ©tier
- Traduction multilingue des champs SEO via `TranslationJob`
- Validation des longueurs SEO (title â‰¤ 60, description â‰¤ 160)

---

## ğŸ§  Logique mÃ©tier

- Chaque objet mÃ©tier peut dÃ©clarer un `SeoBlock` via un mixin
- Les champs SEO sont traduits automatiquement via `language`
- Les templates dynamiques permettent de gÃ©nÃ©rer des SEO cohÃ©rents
- Les validations SEO sont intÃ©grÃ©es dans le modÃ¨le `Translation`

---

## ğŸ§ª Tests

- Localisation : `apps/seo/tests/`
- Framework : `pytest`
- GÃ©nÃ©ration : `factory_boy`
- Couverture : `pytest-cov`

---

## ğŸ“‚ Structure interne de lâ€™app

```plaintext
seo/
â”œâ”€â”€ __init__.py
â”œâ”€â”€ apps.py
â”œâ”€â”€ models.py
â”œâ”€â”€ admin.py
â”œâ”€â”€ serializers.py
â”œâ”€â”€ views.py
â”œâ”€â”€ services.py
â”œâ”€â”€ utils.py
â”œâ”€â”€ urls.py
â”œâ”€â”€ tasks.py
â”œâ”€â”€ signals.py
â”œâ”€â”€ permissions.py
â”œâ”€â”€ templates/
â”‚   â””â”€â”€ admin/
â”‚       â””â”€â”€ seo/
â”‚           â””â”€â”€ seo_block.html
â”œâ”€â”€ static/
â”‚   â””â”€â”€ seo/
â”‚       â”œâ”€â”€ seo_admin.js
â”‚       â””â”€â”€ seo_admin.css
â”œâ”€â”€ specific/
â”‚   â””â”€â”€ fixtures/
â”‚       â””â”€â”€ seo_templates.json
â””â”€â”€ tests/
    â”œâ”€â”€ test_models.py
    â”œâ”€â”€ test_services.py
    â”œâ”€â”€ test_tasks.py
    â”œâ”€â”€ test_admin.py
    â”œâ”€â”€ factories.py
    â””â”€â”€ conftest.py
```

---

## ğŸ§­ RÃ¨gles de structuration

- Lâ€™app respecte lâ€™ordre de dÃ©veloppement dÃ©fini dans [`README Brief Technique.md`](../README Brief Technique.md)
- Les blocs SEO sont liÃ©s Ã  des clÃ©s traduisibles (`TranslatableKey`)
- Les templates SEO sont versionnÃ©s et validables
- Les validations SEO sont centralisÃ©es dans `language.utils.validate_seo_lengths()`
- Les apps mÃ©tier nâ€™ont plus besoin de coder manuellement le SEO

---

</code></pre>
</body>
</html>